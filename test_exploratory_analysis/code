import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from sklearn.preprocessing import LabelEncoder
import seaborn as sns
db=pd.read_csv(r"C:\Users\harshit Raman\Downloads\test.csv")
# Check the data types of the columns
db.info()

# Print the first few rows of the data
db.head()

# Get the summary statistics of the numerical columns
desc = db.describe()

# Check for missing values
db.isnull().sum()

# Fill the missing values in the Gender column with the mode
ls = LabelEncoder()
db['Gender'].fillna(db['Gender'].mode()[0], inplace=True)
db['Gender'] = ls.fit_transform(db["Gender"])

# Replace the "+" sign with "4" in the Dependents column
db["Dependents"] = db["Dependents"].str.replace(r"3+", r"4", regex=False)

# Convert the Dependents column to numeric type
db["Dependents"] = pd.to_numeric(db["Dependents"])

# Fill the missing values in the Dependents column with the mean
db['Dependents'].fillna(db["Dependents"].mean(), inplace=True)

# Check the number of unique values in each column
for col in db.columns:
    print("The column {} has {} unique values.".format(col, db[col].nunique()))

# Plot histograms of the numerical columns
for col in db.select_dtypes(include=np.number):
    db[col].hist()
    plt.title(col)
    plt.tight_layout()
    plt.show()

# Calculate the correlation matrix
db.corr()

# Plot a pairplot of the numerical columns
sns.pairplot(db, diag_kind="hist", palette="viridis")
plt.tight_layout()
plt.show()
